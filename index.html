<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì‹ ì˜ ì† v6.1 - ì—°ë²ˆ í•„í„° ê°•í™”í˜•</title>
    <style>
        body { background-color: #000; color: #ffd700; font-family: 'Malgun Gothic', sans-serif; text-align: center; padding: 20px; margin: 0; }
        .outer-border { border: 4px solid #ffd700; border-radius: 40px; padding: 10px; max-width: 450px; margin: 0 auto; box-shadow: 0 0 30px rgba(255, 215, 0, 0.4); }
        .inner-container { border: 2px solid #ffd700; border-radius: 32px; padding: 30px 20px; background: #0c0c0c; }
        h1 { font-size: 40px; font-weight: 900; margin: 0; letter-spacing: 5px; cursor: pointer; color: #ffd700; text-shadow: 2px 2px 4px #000; }
        .target-box { color: #00ffcc; font-size: 17px; font-weight: 900; margin: 20px 0; background: #1a1a1a; padding: 15px; border-radius: 15px; border: 2px solid #00ffcc; line-height: 1.6; }
        .btn-main { width: 100%; height: 70px; background: linear-gradient(to bottom, #fdf24d, #b8a000); border: none; border-radius: 20px; font-size: 20px; font-weight: 900; cursor: pointer; margin-bottom: 20px; color: #000; transition: 0.3s; }
        .btn-main:active { transform: scale(0.98); opacity: 0.8; }
        #console { background-color: #050505; border: 2px solid #333; border-radius: 20px; height: 500px; padding: 15px; text-align: left; overflow-y: auto; color: #ffd700; font-size: 14px; line-height: 2.0; border-left: 4px solid #ffd700; }
        .ball { display: inline-block; width: 30px; height: 30px; background: radial-gradient(circle at 30% 30%, #ffd700, #b8a000); color: #000; border-radius: 50%; text-align: center; line-height: 30px; font-weight: bold; margin-right: 5px; font-size: 14px; box-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .ball-cold { border: 2px solid #ff4500; background: radial-gradient(circle at 30% 30%, #ff6347, #ff4500); color: #fff; }
        .tag { font-size: 11px; padding: 3px 8px; border-radius: 5px; background: #333; color: #fff; margin-right: 8px; font-weight: bold; }
        .tag-win { background: #b8a000; }
        .tag-cold { background: #ff4500; }
        .stat-line { color: #888; font-size: 12px; margin-bottom: 10px; border-bottom: 1px solid #222; padding-bottom: 5px; }
    </style>
</head>
<body>
<div class="outer-border">
    <div class="inner-container">
        <h1 onclick="location.reload()">ì‹  ì˜ ì† v6.1</h1>
        <div class="target-box">ğŸ’ ì—°ë²ˆ(ìŒë²ˆí˜¸) í•„í„° íƒ‘ì¬ ì™„ë£Œ<br>ì‹¤ì œ ë‹¹ì²¨ íŒ¨í„´ 1ìŒ í•„ìˆ˜ í¬í•¨</div>
        <button class="btn-main" onclick="process()">ë¶„ì„ ì—”ì§„ 10ì¡°í•© ê°€ë™</button>
        <div id="console">â–¶ ì‹œìŠ¤í…œ ì¤€ë¹„ ì™„ë£Œ. (Code: 7777)</div>
    </div>
</div>

<script>
    const RAW_DATA = [
        [1210,1,7,9,17,27,38,31],[1209,2,17,20,35,37,39,24],[1208,6,27,30,36,38,42,25],[1207,10,22,24,27,38,45,11],
        [1206,1,3,17,26,27,42,23],[1205,1,4,16,23,31,41,2],[1204,8,16,28,30,31,44,27],[1203,3,6,18,29,35,39,24],
        [1202,5,12,21,33,37,40,7],[1201,7,9,24,27,35,36,37]
    ];

    let basket1 = [], basket2 = [], top12 = [], bonusRanked = [];

    function init() {
        let stats = {};
        let allAppear = new Set();
        for(let i=1; i<=45; i++) stats[i] = 0;
        const lastWin = [1, 7, 9, 17, 27, 38];
        const mirrors = lastWin.map(n => 46 - n);

        RAW_DATA.forEach(d => { d.slice(1,7).forEach(n => { allAppear.add(n); stats[n]++; }); });
        basket1 = Array.from(allAppear);
        basket2 = Array.from({length:45}, (_,i)=>i+1).filter(n => !allAppear.has(n));

        let weightedScores = {...stats};
        lastWin.forEach(n => {
            if(n > 1) weightedScores[n-1] += 3; 
            if(n < 45) weightedScores[n+1] += 3;
            weightedScores[n] += 8; 
        });
        mirrors.forEach(m => { weightedScores[m] += 15; });
        top12 = Object.keys(weightedScores).map(Number).sort((a,b) => weightedScores[b] - weightedScores[a]).slice(0, 12);
        
        let bStats = {};
        RAW_DATA.forEach(d => { bStats[d[7]] = (bStats[d[7]] || 0) + 1; });
        bonusRanked = Object.keys(bStats).map(Number).sort((a,b) => bStats[b] - bStats[a]);
    }

    function getAC(arr) {
        let diffs = new Set();
        for(let i=0; i<6; i++) { for(let j=i+1; j<6; j++) diffs.add(Math.abs(arr[i]-arr[j])); }
        return diffs.size - 5;
    }

    function process() {
        init();
        const box = document.getElementById('console');
        box.innerHTML = `<div class="stat-line">ğŸ“Š ë¶„ì„: ë¯¸ì¶œìˆ˜(${basket2.length}ê°œ) / ì••ì¶•(${top12.slice(0,6)}...)</div>`;
        
        let count = 0;
        let safety = 0;

        while(count < 10 && safety < 200000) {
            safety++;
            let res = [];
            let idx = count + 1;

            if(idx <= 3 && bonusRanked[idx-1]) res.push(bonusRanked[idx-1]);
            else if(idx === 8) res.push(basket2[Math.floor(Math.random()*basket2.length)]);
            else if(idx === 9) {
                let b2 = [...basket2];
                res.push(b2.splice(Math.floor(Math.random()*b2.length), 1)[0]);
                res.push(b2.splice(Math.floor(Math.random()*b2.length), 1)[0]);
            }

            let pool = [...top12];
            while(res.length < 6) {
                let pick = pool.length > 0 ? pool.splice(Math.floor(Math.random()*pool.length), 1)[0] : Math.floor(Math.random()*45)+1;
                if(!res.includes(pick)) res.push(pick);
            }
            res.sort((a,b) => a-b);
            
            // í•„í„°ë§ ë³€ìˆ˜
            const sum = res.reduce((a,b)=>a+b, 0);
            const ac = getAC(res);
            const odds = res.filter(n => n%2 !== 0).length;
            
            // í•µì‹¬ ìˆ˜ì •: ì—°ë²ˆ(ìŒë²ˆí˜¸) ì²´í¬ ë¡œì§
            let consecutiveCount = 0;
            let hasTriple = false;
            for(let i=0; i<5; i++) {
                if(res[i] + 1 === res[i+1]) {
                    consecutiveCount++;
                    if(i < 4 && res[i+1] + 1 === res[i+2]) hasTriple = true;
                }
            }

            // ì¡°ê±´: í•©ê³„/AC/í™€ì§/3ì—°ë²ˆê¸ˆì§€ AND 2ì—°ë²ˆ(ìŒë²ˆí˜¸) 1ìŒ ì´ìƒ í•„ìˆ˜ í¬í•¨
            if(sum >= 100 && sum <= 180 && ac >= 6 && odds >= 2 && odds <= 4 && !hasTriple && consecutiveCount >= 1) {
                count++;
                let tagClass = (res.some(n => basket2.includes(n))) ? "tag-cold" : "tag-win";
                let tagText = (res.some(n => basket2.includes(n))) ? "ì €ê²©" : "ì•ˆì •";

                const ballHtml = res.map(n => {
                    let isConsec = res.some((v, i) => (v === n && res[i+1] === n+1) || (v === n && res[i-1] === n-1));
                    let c = basket2.includes(n) ? "ball ball-cold" : "ball";
                    let style = isConsec ? "border: 2px solid #fff; box-shadow: 0 0 10px #fff;" : "";
                    return `<span class="${c}" style="${style}">${n}</span>`;
                }).join('');

                box.innerHTML += `<div><span class="tag ${tagClass}">${tagText}</span>#${count} ${ballHtml} <small style="color:#555">AC:${ac} ìŒ:${consecutiveCount}</small></div>`;
            }
        }
    }
    window.onload = init;
</script>
</body>
</html>
