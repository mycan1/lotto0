function process(mode) {
    const box = document.getElementById('console');
    box.innerHTML = `â–¶ [ì‚¬ì¥ë‹˜ ì›ë³¸ ë¶„ì„ë²• ì „ìˆ˜ì¡°ì‚¬ ì‹œì‘]\n--------------------------\n`;
    let count = parseInt(mode);
    let gen = 0, safety = 0;

    // 1. ìµœê·¼ 30íšŒ ë¯¸ì¶œìˆ˜ ë¦¬ìŠ¤íŠ¸ ì¶”ì¶œ (ì •í™•í•˜ê²Œ ê³„ì‚°)
    const recent30Nums = new Set(globalLottoData.slice(0, 30).flatMap(row => row.slice(1, 7)));
    const pureMissing30 = Array.from({length: 45}, (_, i) => i + 1).filter(n => !recent30Nums.has(n));

    while(gen < count && safety < 500000) { 
        safety++;
        let candidateSet = new Set();
        
        // ğŸ¯ [ì‚¬ì¥ë‹˜ ë¶„ì„ë²• í•µì‹¬] íšŒì°¨ë³„ ë¯¸ì¶œìˆ˜ ê°•ì œ íˆ¬ì… ë¡œì§
        let requiredMissingCount = 0;
        if (gen === 7) requiredMissingCount = 1;      // 8ë²ˆ ì¡°í•©: ë¯¸ì¶œìˆ˜ 1ê°œ ê°•ì œ
        else if (gen === 8) requiredMissingCount = 2; // 9ë²ˆ ì¡°í•©: ë¯¸ì¶œìˆ˜ 2ê°œ ê°•ì œ
        else if (gen === 9) requiredMissingCount = 2; // 10ë²ˆ ì¡°í•©: ë¯¸ì¶œìˆ˜ 2ê°œ ê°•ì œ (ë˜ëŠ” 3ê°œë¡œ ì¡°ì • ê°€ëŠ¥)

        // ë¯¸ì¶œìˆ˜ ë¨¼ì € ë°•ê¸°
        if (requiredMissingCount > 0) {
            let mPicks = [...pureMissing30].sort(() => seededRandom() - 0.5).slice(0, requiredMissingCount);
            mPicks.forEach(n => candidateSet.add(n));
        }

        // 2. ë‚˜ë¨¸ì§€ëŠ” ì „ì²´ ë°ì´í„° ê°€ì¤‘ì¹˜ í’€ì—ì„œ ì±„ì›€ (ì¤‘ë³µ ì œì™¸)
        while(candidateSet.size < 6) {
            let idx = Math.floor(seededRandom() * missingWeightPool.length);
            candidateSet.add(missingWeightPool[idx]);
        }
        
        let candidate = Array.from(candidateSet).sort((a,b) => a-b);
        let sum = candidate.reduce((a,b) => a+b, 0);
        let ac = calculateAC(candidate);
        
        // 3. ì›ë³¸ í•„í„° (í•©ê³„ 100~175, AC 5ì´ìƒ, 3ì—°ë²ˆ ê¸ˆì§€)
        let isSerial = false;
        for(let i=0; i<4; i++) { 
            if(candidate[i]+1 === candidate[i+1] && candidate[i+1]+1 === candidate[i+2]) isSerial = true; 
        }

        if (sum >= 100 && sum <= 175 && ac >= 5 && !isSerial) {
            gen++;
            let s = candidate.map(n => n < 10 ? "0"+n : n).join("  ");
            
            // 8, 9, 10ë²ˆì€ íŠ¹ë³„íˆ ë” ê°•ì¡°í•´ì„œ ì¶œë ¥
            let style = gen >= 8 ? "style='color:#FFD700; font-weight:bold;'" : "";
            let icon = gen >= 8 ? "ğŸ”¥" : "â­";
            box.innerHTML += `<div ${style}>${icon} ${gen < 10 ? "0"+gen : gen} :  ${s}</div>`;
        }
    }
    box.scrollTop = box.scrollHeight;
}
