<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì‹ ì˜ ì† - í†µê³„ ë¶„ì„ ì—”ì§„</title>
    <style>
        body { background-color: #0c0c0c; color: #ffffff; font-family: 'Malgun Gothic', sans-serif; text-align: center; margin: 0; padding: 20px; }
        h1 { color: #f2c94c; font-size: 2.8rem; font-weight: bold; margin-top: 30px; letter-spacing: -1px; }
        
        /* ê³µê²© ëª¨ë“œì¼ ë•Œ í…Œë‘ë¦¬ ê¹œë¹¡ì„ íš¨ê³¼ */
        .target-box { 
            background-color: #1a1a1a; border: 2px solid #ff4d4d; border-radius: 15px; 
            padding: 15px 30px; display: inline-flex; align-items: center; gap: 10px;
            font-size: 1.2rem; font-weight: bold; margin-bottom: 30px;
            box-shadow: 0 0 15px rgba(255, 77, 77, 0.3);
        }

        .btn-container { display: flex; flex-direction: column; gap: 12px; max-width: 420px; margin: 0 auto; }
        button { border: none; border-radius: 12px; font-weight: 900; cursor: pointer; font-size: 1.1rem; transition: 0.2s; }
        button:active { transform: scale(0.98); opacity: 0.8; }

        .btn-gold { height: 80px; background: linear-gradient(145deg, #d4a017, #f2c94c); color: #000; box-shadow: 0 4px 15px rgba(212, 160, 23, 0.3); }
        .sub-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .btn-dark { height: 60px; background-color: #262626; color: #fff; border: 1px solid #333; }

        #console-container { 
            max-width: 420px; margin: 25px auto; background-color: #161616; 
            border-radius: 20px; min-height: 450px; text-align: left; padding: 25px;
            border: 1px solid #222; box-shadow: inset 0 0 20px #000;
        }

        #console { color: #f2c94c; font-size: 1.1rem; line-height: 2.4; font-weight: bold; }
        
        /* ìˆ«ì ê°•ì¡° ìŠ¤íƒ€ì¼ */
        .num-text { display: inline-block; margin: 0 4px; font-size: 1.3rem; font-family: 'Courier New', monospace; }
        .t1 { color: #fbc400; } .t11 { color: #69c8f2; } .t21 { color: #ff7272; } .t31 { color: #aaaaaa; } .t41 { color: #b0d840; }
        
        .tag { font-size: 0.75rem; color: #666; margin-left: 8px; font-weight: normal; vertical-align: middle; border: 1px solid #333; padding: 2px 6px; border-radius: 4px; }

        .floating-btn { position: fixed; bottom: 30px; right: 20px; width: 70px; height: 70px; background-color: #f2c94c; border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #000; font-weight: bold; font-size: 0.8rem; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
    </style>
</head>
<body>

    <h1>ì‹  ì˜ ì†</h1>

    <div class="target-box" id="display-target">
        <span id="status-icon">ğŸ¯</span> ì œ 1206íšŒì°¨ ë¶„ì„ ì—”ì§„
    </div>

    <div class="btn-container">
        <button class="btn-gold" onclick="runAnalysis(5)">5ì¡°í•© ìƒì„± (AC 9-10 íŠ¹í™”)</button>
        <button class="btn-gold" onclick="runAnalysis(10)">10ì¡°í•© ìƒì„± (ì›ë³¸ ë¶„ì„ ëª¨ë¸)</button>
        
        <div class="sub-row">
            <button class="btn-dark">ë§ˆí‚¹ ë³´ê´€í•¨</button>
            <button class="btn-dark" onclick="location.reload()" style="color:#ff4d4d;">ì´ˆê¸°í™”</button>
        </div>
    </div>

    <div id="console-container">
        <div id="console">â–¶ ì‹œìŠ¤í…œ ì¤€ë¹„ ì™„ë£Œ. ì—”ì§„ì„ ê°€ë™í•´ ì£¼ì„¸ìš”.</div>
    </div>

    <div class="floating-btn">ğŸ“©<br>ìª½ì§€í•¨</div>

    <script>
        // [ì‚¬ìš©ì ì›ë³¸ ë°ì´í„°]
        const lastWeekNums = [1, 11, 21, 31, 41, 45]; 
        const elitePool = [3, 7, 14, 15, 23, 28, 33, 39, 42, 44]; // ìµœê·¼ ë¹ˆë„ 2~4íšŒ ìˆ«ì
        const missingPool = [2, 5, 8, 10, 19, 22, 27, 34, 38, 43]; // ë¯¸ì¶œìˆ˜

        function calculateAC(nums) {
            let diffs = new Set();
            for (let i = 0; i < nums.length; i++) {
                for (let j = i + 1; j < nums.length; j++) { diffs.add(Math.abs(nums[i] - nums[j])); }
            }
            return diffs.size - (nums.length - 1);
        }

        function isSequentialOk(nums, allowDouble = false) {
            let pairs = 0;
            for (let i = 0; i < nums.length - 1; i++) {
                if (nums[i] + 1 === nums[i + 1]) {
                    if (i < nums.length - 2 && nums[i + 1] + 1 === nums[i + 2]) return false;
                    pairs++; i++; 
                }
            }
            return pairs <= (allowDouble ? 2 : 1);
        }

        function runAnalysis(count) {
            const box = document.getElementById('console');
            box.innerHTML = "â–¶ ë³´ì•ˆ ì±„ë„ ì—°ê²° ì¤‘...<br>â–¶ í†µê³„ í•„í„° ì ìš© ì¤‘...";
            
            setTimeout(() => {
                box.innerHTML = "";
                generate(count);
            }, 600);
        }

        function generate(count) {
            const box = document.getElementById('console');
            let results = [];
            
            // 1. í†µê³„ í•„í„° ì¡°í•© ì¶”ì¶œ (1~7ì¡°í•©)
            while (results.length < Math.min(count, 7)) {
                let candidate = [];
                while(candidate.length < 6) {
                    let r = Math.floor(Math.random() * 45) + 1;
                    if(!candidate.includes(r)) candidate.push(r);
                }
                candidate.sort((a, b) => a - b);
                
                let sum = candidate.reduce((a, b) => a + b, 0);
                let ac = calculateAC(candidate);
                let odd = candidate.filter(n => n % 2 !== 0).length;
                let targetAC = count === 5 ? (ac >= 9) : (ac >= 5 && ac <= 8);

                if (sum >= 100 && sum <= 170 && targetAC && (odd >= 2 && odd <= 4) && isSequentialOk(candidate)) {
                    results.push({tag: "ì›ë³¸í†µê³„", nums: candidate});
                }
            }

            // 2. ì§‘ì¤‘ íƒ€ê²© (8~10ì¡°í•©)
            if (count >= 10) {
                for (let i = 1; i <= 3; i++) {
                    let mPick = missingPool.sort(() => 0.5 - Math.random()).slice(0, i);
                    let pool = [...new Set([...elitePool, ...lastWeekNums])];
                    let base = pool.sort(() => 0.5 - Math.random()).slice(0, 6 - mPick.length);
                    let candidate = [...new Set([...base, ...mPick])].sort((a, b) => a - b);
                    if (candidate.length === 6) results.push({tag: `ì§‘ì¤‘íƒ€ê²©_${i}`, nums: candidate});
                }
            }

            // í™”ë©´ ë Œë”ë§
            results.forEach((item, idx) => {
                let row = `<div style="margin-bottom:8px;">[${idx + 1}ì¡°] `;
                item.nums.forEach((n, i) => {
                    let cls = n <= 10 ? 't1' : n <= 20 ? 't11' : n <= 30 ? 't21' : n <= 40 ? 't31' : 't41';
                    row += `<span class="num-text ${cls}">${n < 10 ? '0' + n : n}</span>${i < 5 ? ',' : ''}`;
                });
                row += `<span class="tag">${item.tag}</span></div>`;
                box.innerHTML += row;
            });
        }
    </script>
</body>
</html>
