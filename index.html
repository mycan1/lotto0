<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SHIN-UI-SON v24.1 - 0000 í†µí•© ì—”ì§„</title>
    <style>
        /* [ë””ìì¸ ì‚´ë¦¬ê¸°] ì‚¬ìš©ìë‹˜ì˜ ê¸ˆìƒ‰ í…Œë‘ë¦¬ì™€ ë‹¤í¬ ëª¨ë“œ ë””ìì¸ 100% ìœ ì§€ */
        :root { --gold: #ffd700; --bg: #0b0b0b; --card: #1a1a1a; --accent: #00ffcc; --save: #ff00ff; --danger: #ff4444; }
        body { background-color: var(--bg); color: var(--gold); font-family: 'Malgun Gothic', sans-serif; padding: 10px; margin: 0; }
        .outer-border { border: 2px solid var(--gold); border-radius: 20px; padding: 15px; max-width: 480px; margin: 0 auto; }
        .header-box { text-align: center; margin-bottom: 10px; }
        .next-episode { font-size: 22px; font-weight: 900; color: #fff; text-shadow: 0 0 10px rgba(255,215,0,0.5); }
        .status-info { font-size: 11px; color: var(--accent); line-height: 1.5; min-height: 80px; width: 100%; background: rgba(255,255,255,0.05); border-radius: 12px; padding: 10px; box-sizing: border-box; margin-top: 8px; text-align: left; border: 1px solid #333; }
        .btn-group { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin: 15px 0; }
        button { border-radius: 10px; font-weight: bold; cursor: pointer; border: none; height: 50px; transition: 0.2s; }
        .btn-5set { background: linear-gradient(135deg, #00ffcc, #00a884); color: #000; font-size: 16px; }
        .btn-main { background: linear-gradient(135deg, #ffd700, #b8860b); color: #000; font-size: 16px; }
        .btn-sub { background: #222; color: #fff; border: 1px solid #444; }
        .row-line { background: var(--card); border-radius: 12px; padding: 12px; margin-bottom: 10px; display: flex; align-items: center; justify-content: space-between; border: 1px solid #333; }
        .num-box { width: 34px; height: 34px; line-height: 34px; text-align: center; font-size: 14px; font-weight: 900; border-radius: 50%; color: #fff; border: 1px solid var(--gold); }
        .fixed { background: linear-gradient(135deg, #00ffcc, #00a884); color: #000; } 
        .save-btn { font-size: 11px; background: var(--save); color: white; padding: 6px 10px; border-radius: 6px; cursor: pointer; }
    </style>
</head>
<body>

<div class="outer-border">
    <div class="header-box">
        <span class="next-episode">SHIN-UI-SON v24.1</span>
        <div id="userDisplay" style="color: #888; font-size: 12px; margin-top: 5px;">ğŸ‘¤ í˜„ì¬ ì ‘ì†ì: guest_s9kd</div>
        <div id="status" class="status-info">0000 ì—”ì§„ ëŒ€ê¸° ì¤‘...</div>
    </div>

    <div class="btn-group">
        <button class="btn-5set" onclick="process(5)">5ì¡°í•© ì¶”ì¶œ</button>
        <button class="btn-main" onclick="process(10)">10ì¡°í•© ì¶”ì¶œ</button>
        <button class="btn-sub">ë³´ê´€í•¨</button>
        <button class="btn-sub" onclick="location.reload()">ì´ˆê¸°í™”</button>
    </div>

    <div id="console"></div>
</div>

<script>
    // [0000 ì—”ì§„] ê¸°ì¡´ ë°ì´í„° ë‹¤ ì§€ìš°ê³  ìš°ë¦¬ ë°ì´í„°ë§Œ ì£¼ì…
    // 1213íšŒì°¨ íƒ€ê²Ÿ 52ì£¼ ì£¼ê¸° 5ê°œ íšŒì°¨ ë°ì´í„°
    const TARGET_CYCLE = [
        [4, 5, 12, 16, 22, 35, 34], // 1161íšŒ
        [10, 12, 13, 19, 33, 40, 2], // 1109íšŒ
        [8, 13, 19, 27, 40, 45, 12], // 1057íšŒ
        [8, 13, 18, 24, 27, 29, 17], // 1005íšŒ
        [7, 9, 22, 27, 37, 42, 34]   // 953íšŒ
    ];

    // 1212íšŒ ë‹¹ì²¨ë²ˆí˜¸ (ì´ì›”ìˆ˜ ìŠ¹ê²©ìš©)
    const LAST_WIN = [1, 7, 10, 12, 14, 18];

    let finalBasket = [];

    // [0000 í•µì‹¬ ë¡œì§] ë””ìì¸ì— ì •ë³´ ë¿Œë¦¬ê¸°
    function analyze() {
        let pool = [];
        TARGET_CYCLE.forEach(row => pool.push(...row.slice(0, 6)));
        let counts = {};
        pool.forEach(n => counts[n] = (counts[n] || 0) + 1);
        
        // ìƒì¡´ì ëª…ë‹¨ í™•ë³´ (ë³´ë„ˆìŠ¤ í¬í•¨)
        let survivors = [...new Set(pool.concat(TARGET_CYCLE.map(r => r[6])))];

        // ì´ì›”ìˆ˜(LAST_WIN)ê°€ ìˆìœ¼ë©´ ìµœìƒë‹¨ìœ¼ë¡œ ê°•ì œ ìŠ¹ê²©
        survivors.sort((a, b) => {
            let aIn = LAST_WIN.includes(a) ? 1 : 0;
            let bIn = LAST_WIN.includes(b) ? 1 : 0;
            if (aIn !== bIn) return bIn - aIn; // ì´ì›”ìˆ˜ ìš°ì„ 
            return (counts[b] || 0) - (counts[a] || 0); // ê·¸ ë‹¤ìŒ ë¹ˆë„ìˆœ
        });

        finalBasket = survivors.slice(0, 17); // ì •ì˜ˆ 17ìˆ˜ í™•ì •

        document.getElementById('status').innerHTML = `
            <div><span style="color:#ffd700">â˜… SHIN-UI-SON v24.1 [0000 í†µí•©]</span></div>
            <div><span style="color:#ff4444">ğŸ¯ 1213íšŒ íƒ€ê²Ÿ ì •ì˜ˆ:</span> ${finalBasket.sort((a,b)=>a-b).join(', ')}</div>
            <div>ë¶„ì„ë²•: 52ì£¼ ì£¼ê¸° ë™ê¸°í™” + ì´ì›”ìˆ˜ ìŠ¹ê²© ë¡œì§ ì ìš© ì™„ë£Œ</div>
        `;
    }

    // [ê¸°ëŠ¥] ì¶”ì¶œ ë²„íŠ¼ í´ë¦­ ì‹œ ì‘ë™
    function process(limit) {
        analyze();
        const box = document.getElementById('console');
        box.innerHTML = "";
        
        for(let i=0; i<limit; i++) {
            // 17ìˆ˜ ë‚´ì—ì„œ ëœë¤í•˜ê²Œ 6ê°œ ì¡°í•© ìƒì„±
            let res = [...finalBasket].sort(() => Math.random() - 0.5).slice(0, 6).sort((a,b)=>a-b);
            renderRow(res, box);
        }
    }

    function renderRow(arr, target) {
        const html = arr.map(n => {
            let isFixed = LAST_WIN.includes(n) ? "fixed" : ""; // ì´ì›”ìˆ˜ëŠ” ë””ìì¸ìƒ ê°•ì¡°
            return `<span class="num-box ${isFixed}">${n}</span>`;
        }).join('');
        target.innerHTML += `<div class="row-line"><div style="display:flex; gap:5px; flex-grow:1; justify-content:center;">${html}</div><div class="save-btn">ì €ì¥</div></div>`;
    }

    window.onload = analyze;
</script>
</body>
</html>
