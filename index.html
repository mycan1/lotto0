<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì‹ ì˜ ì† v6.2 - ì—°ê´€ì„± ê°€ì¤‘ì¹˜ ì—”ì§„</title>
    <style>
        body { background-color: #000; color: #ffd700; font-family: 'Malgun Gothic', sans-serif; text-align: center; padding: 20px; margin: 0; }
        .outer-border { border: 4px solid #ffd700; border-radius: 40px; padding: 10px; max-width: 450px; margin: 0 auto; box-shadow: 0 0 30px rgba(255, 215, 0, 0.4); }
        .inner-container { border: 2px solid #ffd700; border-radius: 32px; padding: 30px 20px; background: #0c0c0c; }
        h1 { font-size: 38px; font-weight: 900; margin: 0; letter-spacing: 5px; cursor: pointer; color: #ffd700; text-shadow: 2px 2px 4px #000; }
        .target-box { color: #00ffcc; font-size: 16px; font-weight: 900; margin: 20px 0; background: #1a1a1a; padding: 15px; border-radius: 15px; border: 2px solid #00ffcc; line-height: 1.6; }
        .btn-main { width: 100%; height: 70px; background: linear-gradient(to bottom, #fdf24d, #b8a000); border: none; border-radius: 20px; font-size: 20px; font-weight: 900; cursor: pointer; margin-bottom: 20px; color: #000; }
        #console { background-color: #050505; border: 2px solid #333; border-radius: 20px; height: 500px; padding: 15px; text-align: left; overflow-y: auto; color: #ffd700; font-size: 14px; line-height: 2.0; border-left: 4px solid #ffd700; }
        .ball { display: inline-block; width: 34px; height: 34px; background: radial-gradient(circle at 30% 30%, #ffd700, #b8a000); color: #000; border-radius: 50%; text-align: center; line-height: 34px; font-weight: bold; margin-right: 5px; font-size: 15px; box-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .ball-cold { border: 2px solid #ff4500; background: radial-gradient(circle at 30% 30%, #ff6347, #ff4500); color: #fff; }
        .tag { font-size: 11px; padding: 3px 8px; border-radius: 5px; background: #333; color: #fff; margin-right: 8px; font-weight: bold; }
        .tag-win { background: #b8a000; }
        .tag-cold { background: #ff4500; }
        .stat-line { color: #888; font-size: 12px; margin-bottom: 10px; border-bottom: 1px solid #222; padding-bottom: 5px; }
    </style>
</head>
<body>
<div class="outer-border">
    <div class="inner-container">
        <h1 onclick="location.reload()">ì‹  ì˜ ì† v6.2</h1>
        <div class="target-box">ğŸ’ 1210íšŒ ì—°ê´€ì„± ë¶„ì„ ì—”ì§„ ê°€ë™<br>10ë²ˆ ì¡°í•©: ë³´ë„ˆìŠ¤ ìƒìœ„2+ë¯¸ì¶œ1+ë¹„ì£¼ë¥˜3 ê³ ì •</div>
        <button class="btn-main" onclick="process()">ë¶„ì„ ì—”ì§„ 10ì¡°í•© ê°€ë™</button>
        <div id="console">â–¶ ì‹œìŠ¤í…œ ì¤€ë¹„ ì™„ë£Œ. (Code: 0000)</div>
    </div>
</div>

<script>
    const RAW_DATA = [
        [1210,1,7,9,17,27,38,31],[1209,2,17,20,35,37,39,24],[1208,6,27,30,36,38,42,25],[1207,10,22,24,27,38,45,11],
        [1206,1,3,17,26,27,42,23],[1205,1,4,16,23,31,41,2],[1204,8,16,28,30,31,44,27],[1203,3,6,18,29,35,39,24],
        [1202,5,12,21,33,37,40,7],[1201,7,9,24,27,35,36,37],[1200,1,2,4,16,20,32,45],[1199,16,24,25,30,31,32,7],
        [1198,26,30,33,38,39,41,21],[1197,1,5,7,26,28,43,30],[1196,8,12,15,29,40,45,14],[1195,3,15,27,33,34,36,37],
        [1194,3,13,15,24,33,37,2],[1193,6,9,16,19,24,28,17],[1192,10,16,23,36,39,40,11],[1191,1,4,11,12,20,41,2],
        [1190,7,9,19,23,26,45,33],[1189,9,19,29,35,37,38,31],[1188,3,4,12,19,22,27,9],[1187,5,13,26,29,37,40,42],
        [1186,2,8,13,16,23,28,35],[1185,6,17,22,28,29,32,38],[1184,14,16,23,25,31,37,42],[1183,4,15,17,23,27,36,31],
        [1182,1,13,21,25,28,31,22],[1181,8,10,14,20,33,41,28],
        [1180,6,14,25,33,40,44,30],[1179,10,22,29,33,37,40,19],[1178,6,11,16,19,21,32,45],[1177,3,12,19,21,24,35,44],
        [1176,10,11,15,20,35,42,14],[1175,1,14,34,35,37,41,12],[1174,2,6,13,15,27,45,11],[1173,1,14,15,19,21,25,37],
        [1172,4,10,15,21,28,31,6],[1171,1,3,15,22,34,45,19],[1170,11,16,19,21,32,45,6],[1169,5,12,14,19,33,42,4],
        [1168,10,16,21,28,34,42,3],[1167,4,11,13,15,19,22,38],[1166,1,7,12,14,33,40,45]
    ];

    let top12 = [], basket2 = [], finalBonusOnly = [], remainInR30 = [];

    function init() {
        const lastWin = [1, 7, 9, 17, 27, 38];
        const neighbors = lastWin.flatMap(n => [n-1, n+1]).filter(n => n>0 && n<46);
        const mirrors = lastWin.map(n => 46 - n);
        const companions = [3, 15, 24, 33, 42]; 

        let r30WinSet = new Set(); 
        let bStats = {}; 

        RAW_DATA.slice(0, 30).forEach(d => {
            for(let i=1; i<=6; i++) r30WinSet.add(d[i]); 
            bStats[d[7]] = (bStats[d[7]] || 0) + 1; 
        });

        // 30íšŒ ì´ë‚´ ì¶œí˜„í•œ ëª¨ë“  ìˆ«ì(ì¼ë°˜+ë³´ë„ˆìŠ¤) í•©ì§‘í•©
        let totalR30Union = new Set([...r30WinSet, ...Object.keys(bStats).map(Number)]);
        basket2 = Array.from({length:45}, (_,i)=>i+1).filter(n => !totalR30Union.has(n));

        // ê°€ì¤‘ì¹˜ ì—°ì‚°
        let scores = {};
        for(let i=1; i<=45; i++) scores[i] = 0;
        totalR30Union.forEach(num => {
            if(neighbors.includes(num)) scores[num] += 15;  
            if(mirrors.includes(num)) scores[num] += 12;    
            if(companions.includes(num)) scores[num] += 10; 
        });

        top12 = Object.keys(scores).map(Number).sort((a,b) => scores[b] - scores[a]).slice(0, 12);

        // [ë³´ë„ˆìŠ¤ ì „ìš© ë°”êµ¬ë‹ˆ: ì¼ë°˜êµ¬ ì œì™¸ & Top12 ì œì™¸]
        finalBonusOnly = Object.keys(bStats)
            .map(Number)
            .filter(n => !r30WinSet.has(n) && !top12.includes(n))
            .sort((a,b) => bStats[b] - bStats[a]);

        // [ë¹„ì£¼ë¥˜ ë°”êµ¬ë‹ˆ: R30 ì¶œí˜„ìˆ˜ ì¤‘ Top12 ì œì™¸]
        remainInR30 = Array.from(totalR30Union).filter(n => !top12.includes(n));
    }

    function getAC(arr) {
        let diffs = new Set();
        for(let i=0; i<6; i++) { for(let j=i+1; j<6; j++) diffs.add(Math.abs(arr[i]-arr[j])); }
        return diffs.size - 5;
    }

    function process() {
        init();
        const box = document.getElementById('console');
        box.innerHTML = `<div class="stat-line">ğŸ“Š 1210íšŒ ì „ëµ ë¶„ì„ ì™„ë£Œ. 10ë²ˆ ì¡°í•© ì§‘ì¤‘ ì €ê²© ê°€ë™.</div>`;
        
        let count = 0, safety = 0;
        const lastBonus = 31; // ì§ì „íšŒì°¨ ë³´ë„ˆìŠ¤

        while(count < 10 && safety < 100000) {
            safety++;
            let res = [];
            let idx = count + 1;

            if(idx === 1) {
                res.push(lastBonus);
            } else if(idx === 2 && finalBonusOnly[2]) {
                res.push(finalBonusOnly[2]);
            } else if(idx === 3 && finalBonusOnly[3]) {
                res.push(finalBonusOnly[3]);
            } else if(idx === 8 && basket2.length > 0) {
                res.push(basket2[Math.floor(Math.random()*basket2.length)]);
            } else if(idx === 9 && basket2.length > 1) {
                let bt = [...basket2].sort(() => Math.random() - 0.5);
                res.push(bt[0], bt[1]);
            } else if(idx === 10) {
                // [10ë²ˆ ì¡°í•©: ë³´ë„ˆìŠ¤2 + ë¯¸ì¶œ1 + ë¹„ì£¼ë¥˜3 ê³ ì •]
                if(finalBonusOnly[0]) res.push(finalBonusOnly[0]);
                if(finalBonusOnly[1]) res.push(finalBonusOnly[1]);
                if(basket2.length > 0) res.push(basket2[Math.floor(Math.random()*basket2.length)]);
                
                let rt = [...remainInR30].sort(() => Math.random() - 0.5);
                for(let num of rt) {
                    if(res.length < 6 && !res.includes(num)) res.push(num);
                }
            }

            // ë‚˜ë¨¸ì§€ ì¹¸ ì±„ìš°ê¸°
            let pool = [...top12];
            while(res.length < 6) {
                let pick = (pool.length > 0 && Math.random() < 0.8) ? pool.splice(Math.floor(Math.random()*pool.length), 1)[0] : Math.floor(Math.random()*45)+1;
                if(!res.includes(pick)) res.push(pick);
            }

            res.sort((a,b) => a-b);
            const sum = res.reduce((a,b)=>a+b, 0);
            const ac = getAC(res);
            const odds = res.filter(n => n%2 !== 0).length;
            let consecutive = 0;
            for(let i=0; i<5; i++) if(res[i] + 1 === res[i+1]) consecutive++;

            // í•„í„° ì ìš© (ì—°ë²ˆ í•„ìˆ˜)
            if(sum >= 90 && sum <= 210 && ac >= 5 && consecutive >= 1) {
                count++;
                let isCold = res.some(n => basket2.includes(n));
                const ballHtml = res.map(n => `<span class="${basket2.includes(n) ? 'ball ball-cold' : 'ball'}">${n}</span>`).join('');
                box.innerHTML += `<div><span class="tag ${isCold?'tag-cold':'tag-win'}">${isCold?'ì €ê²©':'ì•ˆì •'}</span>#${count} ${ballHtml} <small style="color:#555">AC:${ac} ìŒ:${consecutive}</small></div>`;
            }
        }
    }
    window.onload = init;
</script>
</body>
</html>
