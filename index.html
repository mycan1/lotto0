<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>0000 CORE SYSTEM v1213</title>
    <style>
        body { background-color: #0d1117; color: #c9d1d9; font-family: 'Segoe UI', sans-serif; display: flex; justify-content: center; padding: 20px; }
        .container { width: 100%; max-width: 600px; background: #161b22; padding: 30px; border-radius: 10px; border: 1px solid #30363d; }
        h1 { color: #58a6ff; text-align: center; border-bottom: 1px solid #30363d; padding-bottom: 15px; }
        .input-group { margin: 20px 0; text-align: center; }
        input { background: #0d1117; border: 1px solid #30363d; color: white; padding: 10px; width: 80%; text-align: center; font-size: 16px; border-radius: 5px; }
        button { width: 100%; padding: 15px; background: #238636; color: white; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; font-size: 16px; margin-top: 10px; }
        button:hover { background: #2ea44f; }
        .ball-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-top: 30px; min-height: 100px; }
        .ball { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; text-shadow: 1px 1px 2px black; box-shadow: inset -3px -3px 5px rgba(0,0,0,0.3); }
        .history { margin-top: 30px; background: #0d1117; padding: 15px; border-radius: 5px; max-height: 200px; overflow-y: auto; font-size: 14px; color: #8b949e; }
        /* 번호대별 색상 디자인 */
        .color1 { background: #f1e05a; color: black; } /* 1-10 */
        .color2 { background: #58a6ff; } /* 11-20 */
        .color3 { background: #f85149; } /* 21-30 */
        .color4 { background: #d29922; } /* 31-40 */
        .color5 { background: #3fb950; } /* 41-45 */
    </style>
</head>
<body>
    <div class="container">
        <h1>1213회차 고정밀 분석기</h1>
        
        <div class="input-group">
            <p>1212회 당첨번호 입력 (이월수 추적)</p>
            <input type="text" id="lastWin" value="1, 7, 10, 12, 14, 18" placeholder="쉼표로 구분">
        </div>

        <button onclick="run0000Engine()">1213회 전략 17수 분석 실행</button>

        <div id="ballArea" class="ball-container">
            </div>

        <div class="history" id="storage">
            [ 전략 보관함 로그 ]<br>
        </div>
    </div>

    <script>
        function run0000Engine() {
            // [데이터 내장] 1213회차 타겟 52주 주기 데이터 5개 (사용자 요청 반영)
            const cycleData = [
                [4, 5, 12, 16, 22, 35, 34], // 1161회
                [10, 12, 13, 19, 33, 40, 2], // 1109회
                [8, 13, 19, 27, 40, 45, 12], // 1057회
                [8, 13, 18, 24, 27, 29, 17], // 1005회
                [7, 9, 22, 27, 37, 42, 34]   // 953회
            ];

            const lastWinInput = document.getElementById('lastWin').value;
            const lastWinNums = lastWinInput.split(',').map(n => parseInt(n.trim()));

            if (lastWinNums.length < 6) {
                alert("1212회 번호를 정확히 입력하세요.");
                return;
            }

            // [0000 로직 가동] 빈도 분석 및 생존자 추출
            let mainPool = [];
            let allNums = [];
            cycleData.forEach(row => {
                mainPool.push(...row.slice(0, 6));
                allNums.push(...row);
            });

            let counts = {};
            mainPool.forEach(n => counts[n] = (counts[n] || 0) + 1);
            let survivors = [...new Set(allNums)];

            // [이월수 승격 정렬]
            survivors.sort((a, b) => {
                let aIn = lastWinNums.includes(a) ? 1 : 0;
                let bIn = lastWinNums.includes(b) ? 1 : 0;
                if (aIn !== bIn) return bIn - aIn;
                return (counts[b] || 0) - (counts[a] || 0);
            });

            const final17 = survivors.slice(0, 17).sort((a, b) => a - b);

            // [디자인 반영] 결과 출력
            const ballArea = document.getElementById('ballArea');
            ballArea.innerHTML = '';
            final17.forEach(n => {
                let colorClass = n <= 10 ? 'color1' : n <= 20 ? 'color2' : n <= 30 ? 'color3' : n <= 40 ? 'color4' : 'color5';
                ballArea.innerHTML += `<div class="ball ${colorClass}">${n}</div>`;
            });

            // 보관함 저장
            const storage = document.getElementById('storage');
            storage.innerHTML = `<div>1213회 분석완료: ${final17.join(', ')}</div>` + storage.innerHTML;
        }
    </script>
</body>
</html>
