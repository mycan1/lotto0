// 5조합 생성: 10수(basket)에서 가중치 기반으로 6개 선택 (필터 없음)
let count = 0, safety = 0;
while (count < limit && safety < 50000) {
    safety++;
    let res = new Set();
    // 10수에서 가중치 기반으로 6개 선택
    let weightedItems = basket.map(n => ({ num: n, weight: weightedScore[n] || 1 }));
    let weightedOrder = [];
    while (weightedItems.length > 0) {
        let total = weightedItems.reduce((sum, item) => sum + item.weight, 0);
        let rand = Math.random() * total;
        let cum = 0;
        for (let i = 0; i < weightedItems.length; i++) {
            cum += weightedItems[i].weight;
            if (rand < cum) {
                weightedOrder.push(weightedItems[i].num);
                weightedItems.splice(i, 1);
                break;
            }
        }
    }
    for (let n of weightedOrder) {
        if (res.size < 6) res.add(n);
    }
    // 혹시 모자라면 랜덤 보충
    while (res.size < 6) {
        let rand = basket[Math.floor(Math.random() * basket.length)];
        res.add(rand);
    }
    let finalArr = Array.from(res).sort((a,b)=>a-b);
    let key = finalArr.join(',');
    if (!used.has(key)) {
        used.add(key);
        count++;
        generatedCombos.push({ numbers: finalArr, key: key, mark: '', comboNumber: count });
    }
}
