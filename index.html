<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì‹ ì˜ ì†</title>
    <style>
        body { background-color: #0c0c0c; color: #ffffff; font-family: 'Malgun Gothic', sans-serif; text-align: center; margin: 0; padding: 20px; }
        h1 { color: #f2c94c; font-size: 2.8rem; font-weight: bold; margin-top: 30px; margin-bottom: 25px; }
        
        /* [ë””ìì¸] 1207íšŒì°¨ ìë™ ì¡°ì¤€ ë°•ìŠ¤ */
        .target-box { 
            background-color: #1a1a1a; border: 2px solid #ff4d4d; border-radius: 15px; 
            padding: 15px 30px; display: inline-flex; align-items: center; gap: 10px;
            font-size: 1.4rem; font-weight: bold; margin-bottom: 35px;
        }

        .btn-container { display: flex; flex-direction: column; gap: 12px; max-width: 420px; margin: 0 auto; }
        button { border: none; border-radius: 12px; font-weight: 900; cursor: pointer; font-size: 1.1rem; }
        .btn-gold { height: 85px; background-color: #d4a017; color: #000; }
        .sub-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .btn-dark { height: 85px; background-color: #262626; color: #fff; border: 1px solid #333; }

        #console-container { 
            max-width: 420px; margin: 20px auto; background-color: #1a1a1a; 
            border-radius: 15px; min-height: 400px; text-align: left; padding: 25px; border: 1px solid #333; 
        }
        #console { color: #f2c94c; font-size: 1.2rem; line-height: 2.2; font-weight: bold; }

        /* [ìˆ˜ì •] í…ìŠ¤íŠ¸ ì „ìš© ìŠ¤íƒ€ì¼ */
        .num-text { display: inline-block; margin: 0 5px; font-size: 1.3rem; }
        .t1 { color: #fbc400; } .t11 { color: #69c8f2; } .t21 { color: #ff7272; } .t31 { color: #aaaaaa; } .t41 { color: #b0d840; }

        .floating-btn {
            position: fixed; bottom: 30px; right: 20px; width: 75px; height: 75px;
            background-color: #f2c94c; border-radius: 50%; display: flex;
            flex-direction: column; align-items: center; justify-content: center; color: #000; font-weight: bold; font-size: 0.8rem;
        }
    </style>
</head>
<body>

    <h1>ì‹  ì˜ ì†</h1>

    <div class="target-box" id="display-target">
        ğŸ¯ ì œ 1207íšŒì°¨ ì¡°ì¤€ ë¶„ì„
    </div>

    <div class="btn-container">
        <button class="btn-gold" onclick="generate(5, 9)">5ì¡°í•© ìƒì„± (AC 9-10)</button>
        <button class="btn-gold" onclick="generate(10, 7)">10ì¡°í•© ìƒì„± (íŒ¨í„´ ë¶„ì„)</button>
        
        <div class="sub-row">
            <button class="btn-dark">ë§ˆí‚¹ ë³´ê´€í•¨</button>
            <button class="btn-dark" onclick="location.reload()" style="color:#ff4d4d;">ì „ì²´ ì‚­ì œ</button>
        </div>
    </div>

    <div id="console-container">
        <div id="console">â–¶ ì‚¬ì¥ë‹˜, 1207íšŒ ì—”ì§„ ê°€ë™ ì¤‘...</div>
    </div>

    <div class="floating-btn">ğŸ“©<br>ìª½ì§€í•¨</div>

    <script>
        // [ì›ë³¸ ë¶„ì„ë²• ì—°ì‚° ì—”ì§„]
        // ì‹¤ì œ ë°ì´í„°(1206íšŒê¹Œì§€)ê°€ lotto.txtì— ìˆë‹¤ê³  ê°€ì •í•  ë•Œì˜ ë¡œì§
        const elitePool = [2, 5, 11, 14, 18, 23, 31, 34, 37, 42, 44]; // ìµœê·¼ 30íšŒ ë‚´ 2~4íšŒ ì¶œí˜„ìˆ˜ (ì˜ˆì‹œ)
        const missingPool = [7, 13, 19, 26, 38]; // 30íšŒ ì´í›„ ë¯¸ì¶œìˆ˜ (ì˜ˆì‹œ)

        function generate(count, acLimit) {
            const box = document.getElementById('console');
            box.innerHTML = `â–¶ 1207íšŒì°¨ ë¶„ì„ ì™„ë£Œ (${acLimit === 9 ? 'ê³ ì••ì¶•' : 'íŒ¨í„´'}):<br><br>`;
            
            let results = [];
            while(results.length < count) {
                let candidate = [];
                // 1. ì—˜ë¦¬íŠ¸ ì¤‘ì‹¬(3ê°œ) + ë¯¸ì¶œìˆ˜(1ê°œ) + ëœë¤ ì¡°í•©
                let ePick = elitePool.sort(() => Math.random() - 0.5).slice(0, 3);
                let mPick = missingPool.sort(() => Math.random() - 0.5).slice(0, 1);
                candidate = [...new Set([...ePick, ...mPick])];
                
                while(candidate.length < 6) {
                    candidate.push(Math.floor(Math.random() * 45) + 1);
                    candidate = [...new Set(candidate)];
                }
                candidate.sort((a,b) => a-b);

                // 2. í•„í„° ì—°ì‚° (ACì§€ìˆ˜, í•©ê³„, ì—°ë²ˆ)
                if (checkLogic(candidate, acLimit)) {
                    results.push(candidate);
                }
            }

            results.forEach((nums, idx) => {
                let row = `<div>[${idx+1}ì¡°] `;
                nums.forEach((n, i) => {
                    let cls = n<=10?'t1':n<=20?'t11':n<=30?'t21':n<=40?'t31':'t41';
                    row += `<span class="num-text ${cls}">${n < 10 ? '0'+n : n}</span>${i < 5 ? ',' : ''}`;
                });
                box.innerHTML += row + `</div>`;
            });
        }

        function checkLogic(nums, acLimit) {
            // ACì§€ìˆ˜ ê³„ì‚°
            let diffs = new Set();
            for(let i=0; i<6; i++) for(let j=i+1; j<6; j++) diffs.add(Math.abs(nums[i]-nums[j]));
            if ((diffs.size - 5) < acLimit) return false;

            // í•©ê³„ í•„í„° (100~175)
            let sum = nums.reduce((a,b)=>a+b, 0);
            if (sum < 100 || sum > 175) return false;

            // 3ì—°ë²ˆ ì°¨ë‹¨
            for(let i=0; i<4; i++) if(nums[i]+1 === nums[i+1] && nums[i+1]+1 === nums[i+2]) return false;

            return true;
        }
    </script>
</body>
</html>
