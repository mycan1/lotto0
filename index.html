<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì‹  ì˜ ì† v15.5 - ìš´ëª…ì˜ ë¶„ì„</title>
    <style>
        body { background-color: #000; color: #ffd700; font-family: 'Malgun Gothic', sans-serif; padding: 15px; margin: 0; }
        .outer-border { border: 2px solid #ffd700; border-radius: 20px; padding: 5px; max-width: 450px; margin: 0 auto; }
        .inner-container { padding: 20px 10px; background: #000; }
        h1 { font-size: 26px; font-weight: 900; margin: 0; color: #ffd700; letter-spacing: 2px; text-align: center; cursor: pointer; }
        
        /* ì˜ˆë³´ ë°•ìŠ¤: ê³ ì •ìˆ˜ ëŒ€ì‹  ìµœê·¼ ê°•ì„¸ ëŒ€ì—­ í‘œì‹œ */
        .fate-box { background: #111; border: 1px dashed #ffd700; padding: 10px; margin: 15px 0; border-radius: 10px; font-size: 12px; }
        .fate-title { color: #00ffcc; font-weight: bold; margin-bottom: 5px; display: block; text-align: center; }
        .fate-item { display: flex; justify-content: space-between; margin: 2px 0; border-bottom: 1px dotted #333; }
        .fate-up { color: #ff4500; font-weight: bold; }

        .target-box { color: #00ffcc; font-size: 13px; margin: 15px 0; border: 1px solid #00ffcc; padding: 10px; border-radius: 10px; font-weight: bold; text-align: center; }
        .btn-main { width: 100%; height: 60px; background: #ffd700; border: none; border-radius: 10px; font-size: 18px; font-weight: 900; cursor: pointer; color: #000; margin-bottom: 20px; }
        .row-line { border-bottom: 1px solid #222; padding: 10px 0; font-size: 20px; display: flex; align-items: center; justify-content: space-between; }
        .row-idx { font-size: 13px; color: #555; min-width: 25px; }
        .num-container { display: flex; gap: 5px; flex-grow: 1; justify-content: center; }
        .num-box { font-family: 'Consolas', monospace; font-weight: 900; width: 32px; text-align: center; color: #ffd700; }
        .info { font-size: 11px; color: #444; min-width: 45px; text-align: right; }
        .excluded-tag { font-size: 10px; color: #ff4500; display: block; text-align: center; margin-bottom: -5px; }
    </style>
</head>
<body>
<div class="outer-border">
    <div class="inner-container">
        <h1 onclick="location.reload()">ì‹  ì˜ ì† v15.5</h1>
        
        <div id="fate-display" class="fate-box">
            <span class="fate-title">ğŸ”® ì‹¤ì‹œê°„ ë©¸êµ¬ê°„/ì¶”ì„¸ ì—”ì§„ ê°€ë™ì¤‘</span>
            <div id="fate-content">ë°ì´í„° ë¶„ì„ ì™„ë£Œ</div>
        </div>

        <div class="target-box">ğŸ² ê³ ì •ìˆ˜ ë°°ì œ: ì˜¤ì§ ë°ì´í„° ê¸°ë°˜ 2+2 í´ëŸ¬ìŠ¤í„° ìƒì„±<br>ğŸ¯ ì „ëµì  ë©¸êµ¬ê°„ 4ì¡°í•© + ììœ  ì „ìˆ˜ë°°ì¹˜ 6ì¡°í•©</div>
        <button class="btn-main" onclick="process()">ìˆœìˆ˜ ë¶„ì„ ì—”ì§„ 10ì¡°í•© ê°€ë™</button>
        <div id="console"></div>
    </div>
</div>

<script>
    const DATA = [
        [1,7,9,17,27,38],[2,17,20,35,37,39],[6,27,30,36,38,42],[10,22,24,27,38,45],
        [1,3,17,26,27,42],[1,4,16,23,31,41],[8,16,28,30,31,44],[3,6,18,29,35,39],
        [5,12,21,33,37,40],[7,9,24,27,35,36],[1,2,4,16,20,32],[16,24,25,30,31,32],
        [26,30,33,38,39,41],[1,5,7,26,28,43],[8,12,15,29,40,45],[3,15,27,33,34,36],
        [3,13,15,24,33,37],[6,9,16,19,24,28],[10,16,23,36,39,40],[1,4,11,12,20,41]
    ];
    
    function calculateAC(arr) {
        let diffs = new Set();
        for (let i = 0; i < arr.length; i++) {
            for (let j = i + 1; j < arr.length; j++) {
                diffs.add(Math.abs(arr[i] - arr[j]));
            }
        }
        return diffs.size - (arr.length - 1);
    }

    function analyzeTrend() {
        let rangeCount = [0, 0, 0, 0, 0];
        DATA.slice(0, 5).forEach(row => {
            row.forEach(n => {
                if(n <= 10) rangeCount[0]++;
                else if(n <= 20) rangeCount[1]++;
                else if(n <= 30) rangeCount[2]++;
                else if(n <= 40) rangeCount[3]++;
                else rangeCount[4]++;
            });
        });

        const names = ["ë‹¨ë²ˆëŒ€", "10ë²ˆëŒ€", "20ë²ˆëŒ€", "30ë²ˆëŒ€", "40ë²ˆëŒ€"];
        let fateHtml = "";
        rangeCount.forEach((cnt, idx) => {
            let trend = cnt > 6 ? "ê°•ì„¸" : (cnt < 3 ? "ì¹¨ì²´" : "ìœ ì§€");
            fateHtml += `<div class="fate-item"><span>${names[idx]}</span> <span class="fate-up">${trend}</span></div>`;
        });
        document.getElementById('fate-content').innerHTML = fateHtml;
    }

    function process() {
        const box = document.getElementById('console');
        box.innerHTML = "";
        
        const ranges = [
            { name: "ë‹¨ë²ˆëŒ€", start: 1, end: 10 },
            { name: "10ë²ˆëŒ€", start: 11, end: 20 },
            { name: "20ë²ˆëŒ€", start: 21, end: 30 },
            { name: "30ë²ˆëŒ€", start: 31, end: 40 },
            { name: "40ë²ˆëŒ€", start: 41, end: 45 }
        ];

        let count = 0;
        while(count < 10) {
            let deadZoneIdx = count % ranges.length;
            let currentPool = Array.from({length: 45}, (_, i) => i + 1);
            
            let excludedName = "ì—†ìŒ";
            if (count < 4) {
                excludedName = ranges[deadZoneIdx].name;
                currentPool = currentPool.filter(n => n < ranges[deadZoneIdx].start || n > ranges[deadZoneIdx].end);
            }

            let attempts = 0;
            while (attempts < 2000) {
                let candidate = [];
                let shuffled = [...currentPool].sort(() => Math.random() - 0.5);
                
                // 2+2 í´ëŸ¬ìŠ¤í„° ë¡œì§ (ì—°ë²ˆ ìƒì„±)
                let n1 = shuffled[Math.floor(Math.random() * shuffled.length)];
                let n2 = shuffled[Math.floor(Math.random() * shuffled.length)];
                
                candidate.push(n1, (n1 % 45) + 1);
                candidate.push(n2, (n2 % 45) + 1);
                
                let idx = 0;
                while(candidate.length < 6 && idx < shuffled.length) {
                    if(!candidate.includes(shuffled[idx])) candidate.push(shuffled[idx]);
                    idx++;
                }

                candidate = [...new Set(candidate)].sort((a, b) => a - b);
                if(candidate.length < 6) { attempts++; continue; }

                const ac = calculateAC(candidate);
                const sum = candidate.reduce((a, b) => a + b, 0);

                if (ac >= 6 && ac <= 10 && sum >= 100 && sum <= 185) {
                    count++;
                    const numsHtml = candidate.map(n => `<span class="num-box">${String(n).padStart(2,'0')}</span>`).join('');
                    let tag = (count <= 4) ? "ğŸ¯" : "ğŸ²";
                    let exTag = (count <= 4) ? `<span class="excluded-tag">${excludedName} ì œì™¸</span>` : "";
                    
                    box.innerHTML += `
                        <div class="row-line">
                            <span class="row-idx">${tag}</span>
                            <div style="display:flex; flex-direction:column; flex-grow:1;">
                                ${exTag}
                                <div class="num-container">${numsHtml}</div>
                            </div>
                            <span class="info">AC:${ac}<br>í•©:${sum}</span>
                        </div>`;
                    break;
                }
                attempts++;
            }
        }
    }
    window.onload = analyzeTrend;
</script>
</body>
</html>
